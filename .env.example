# Algo Scalper API - Example Environment Variables
#
# Copy this file to `.env` and fill in values as needed for your environment.
# These are development-friendly defaults. Do not commit real secrets.

########################################
# Rails / Server
########################################
# Rails log level: debug, info, warn, error, fatal, unknown
RAILS_LOG_LEVEL=info

# Puma threads; coordinate with DB pool sizing
RAILS_MAX_THREADS=2

# HTTP port
PORT=3000

# Optional PID file path (used only if set)
#PIDFILE=tmp/pids/server.pid

# Run Solid Queue supervisor inside Puma (single-server). "true" to enable.
SOLID_QUEUE_IN_PUMA=false

# Set by CI; affects eager loading in test
#CI=false

########################################
# Background Jobs / Queue
########################################
# Number of Solid Queue processes (see config/queue.yml)
JOB_CONCURRENCY=1

########################################
# Redis
########################################
# Sidekiq/Redis connection URL
REDIS_URL=redis://localhost:6379/0

########################################
# Database
########################################
# Production DB user password (only used by production config)
ALGO_SCALPER_API_DATABASE_PASSWORD=

# Alternatively, use a single DATABASE_URL (uncomment and set if preferred)
#DATABASE_URL=postgres://myuser:mypass@localhost:5432/mydatabase

########################################
# DhanHQ Integration
########################################
# Master toggle for DhanHQ integration
DHANHQ_ENABLED=false

# Enable DhanHQ WebSocket client (quotes and/or orders)
DHANHQ_WS_ENABLED=false

# Enable orders WebSocket specifically
DHANHQ_ORDER_WS_ENABLED=false

# WebSocket mode: quote, etc.
DHANHQ_WS_MODE=quote

# REST base URL for Dhan
DHANHQ_BASE_URL=https://api.dhan.co/v2

# WebSocket API version (integer)
DHANHQ_WS_VERSION=2

# Preferred credential keys
CLIENT_ID=
DHANHQ_ACCESS_TOKEN=

# Fallback credential keys (used if preferred keys are unset)
CLIENT_ID=
ACCESS_TOKEN=

# Optional partner credentials
DHANHQ_PARTNER_ID=
DHANHQ_PARTNER_SECRET=

# Optional WebSocket overrides
DHANHQ_WS_ORDER_URL=
DHANHQ_WS_USER_TYPE=

# Logging for Dhan integration (DHANHQ_LOG_LEVEL takes precedence)
# One of: DEBUG, INFO, WARN, ERROR, FATAL
DHANHQ_LOG_LEVEL=INFO
DHAN_LOG_LEVEL=INFO

# Symbols/instruments to subscribe on Dhan WS in dev
# Accepts comma, semicolon, or newline-separated values
# Example: NIFTY 50; BANKNIFTY; RELIANCE
DHANHQ_WS_WATCHLIST=

########################################
# Deployment (Kamal / Docker)
########################################
# Rails credentials key (required in deployments)
RAILS_MASTER_KEY=

# Container registry password for Kamal
KAMAL_REGISTRY_PASSWORD=

# Optional concurrency hint (not explicitly used by Puma here)
#WEB_CONCURRENCY=